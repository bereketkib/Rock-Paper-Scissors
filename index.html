<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

    <script>

        function getComputerChoice(){
            //Create an array of the three choices
            const choices = ['rock', 'paper', 'scissors'];

            // generate a random number
            const randomIndex = Math.floor(Math.random() * choices.length);

            //use the number to pick from the 3 choices in the array
            const computerChoice = choices[randomIndex];
            return computerChoice;
        }
        

        let result;

        function game(){

            let playerScore=0, computerScore=0;

            for(i=1; i<=5; i++){

                function playRound(playerSelection, computerSelection){
                    playerSelection = playerSelection.toLowerCase();
                    if (playerSelection===computerSelection){
                        result = "You Drew!";
                        return result;
                    }else if (playerSelection === 'rock'){
                        if (computerSelection === 'paper'){
                            result = "you Lose! Paper beats Rock";
                            computerScore++;
                            return result;
                        }else {
                            result = "You Win! Rock beats Scissors";
                            playerScore++;
                            return result;
                        }
                    }else if (playerSelection === 'paper'){
                        if (computerSelection === 'rock'){
                            result = "you Win! Paper beats Rock";
                            playerScore++;
                            return result;
                        }else {
                            result = "You Lose! Scissors beats Paper";
                            computerScore++;
                            return result;
                        }
                    }else if (playerSelection === 'scissors'){
                        if (computerSelection === 'paper'){
                            result = "you Win! Scissors beats Paper";
                            playerScore++;
                            return result;
                        }else {
                            result = "You Lose! Rock beats Scissors";
                            computerScore++;
                            return result;
                        }
                    }else {
                        result = "You entered wrong input! pls try again."
                        return result;
                    }
                }


                const computerSelection = getComputerChoice();
                console.log(computerSelection);
                const playerSelection = prompt("enter one of the following choices: rock - paper - scissors", "rock");
                
                console.log(playRound(playerSelection, computerSelection));


            }


            if (playerScore === computerScore){
                console.log(`You drew with the computer with a score of ${playerScore} - ${computerScore} over 5 rounds. Try again!`);
            }else if (playerScore > computerScore){
                console.log(`Congratulations! You beat the computer ${playerScore} by ${computerScore}`);
            }else {
                console.log(`Sorry! you lost ${computerScore} by ${playerScore} to the computer. Try again!`)
            }

            
            
        }

        game();
        


    </script>
    
</body>
</html>